<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" 
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
	<title>test</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

</head>

<body>
<div th:fragment="dialog-content">
<script th:inline="javascript">
/*<![CDATA[*/
	//var modifyInfo = /*[[${modifyInfo}]]*/;
/*]]>*/
 
$(function(){
	$("#modalDailog").removeClass("modal-lg");
	//$("#modalDailog").addClass("modal");
	initTimePicker();
})
</script>

	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
			&times;
		</button>
		<h4 class="modal-title" id="ModifyModalTitle">
			填写机器人信息
		</h4>
	</div>
	<div class="modal-body">
		<form id="modifyDataFrom" class="form-horizontal" role="form">
			<input id="modifyId" name="robotId" type="hidden" th:attr="value=${modifyInfo==null}?'':${modifyInfo.robotId}">
			<input id="modifyModel" name="modifyModel" type="hidden" th:attr="value=${modifyModel==null}?'':${modifyModel}">
			<div class="form-group">
				<label class="col-sm-3 control-label">机器人昵称</label> 
				<div class="col-sm-9">
					<input type="text" class="form-control"  placeholder="机器人昵称" name="nickName" 
						th:attr="value=${modifyInfo==null?'':modifyInfo.user==null?'':modifyInfo.user.nickName}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">机器人电话</label> 
				<div class="col-sm-9"> 
					<input type="text" class="form-control"  placeholder="机器人电话" name="mobilePhone" 
						th:attr="value=${modifyInfo==null?'':modifyInfo.user==null?'':modifyInfo.user.mobilePhone}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">机器人头像</label> 
				<div class="col-sm-9"> 
					<input type="text" class="form-control"  placeholder="机器人头像" name="userPhoto" 
						th:attr="value=${modifyInfo==null?'':modifyInfo.user==null?'':modifyInfo.user.userPhoto}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">机器人钱包</label> 
				<div class="col-sm-9"> 
					<input type="text" class="form-control"  placeholder="机器人钱包" name="availableAmount" 
						th:attr="value=${modifyInfo==null?'':modifyInfo.wallet==null?'':modifyInfo.wallet.availableAmount}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">机器人性别</label> 
				<div class="col-sm-9"> 
					<select class="form-control" name="sex">
						<option value="" >===机器人性别===</option>
						<option th:each="map:${@commonConstants.getDictionarysByKey('sex')}" 
								th:selected="${modifyInfo!=null&&modifyInfo.user!=null&&modifyInfo.user.sex == map.key}" 
								th:value="${map.key}" th:text="${map.value}"></option>
					</select>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">中雷概率</label> 
				<div class="col-sm-9"> 
					<input type="text" class="form-control"  placeholder="中雷概率(1-100)" name="hitChance" 
						th:attr="value=${modifyInfo==null?'':#numbers.formatInteger(modifyInfo.hitChance*100,0)}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">抢包频率</label> 
				<div class="col-sm-9"> 
					<input type="text" class="form-control"  placeholder="抢包频率(1-100)" name="grapChance" 
						th:attr="value=${modifyInfo==null?'':#numbers.formatInteger(modifyInfo.grapChance*100,0)}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">发包频率</label> 
				<div class="col-sm-9"> 
					<input type="text" class="form-control"  placeholder="发包频率(1-100)" name="sendPacketChance" 
						th:attr="value=${modifyInfo==null?'':#numbers.formatInteger(modifyInfo.sendPacketChance*100,0)}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">启用状态</label> 
				<div class="col-sm-9">  
					<select class="form-control" name="status">
						<option value="" >===启用状态===</option>
						<option th:selected="${modifyInfo!=null&&modifyInfo.status == 0}" value="0">未启用</option>
						<option th:selected="${modifyInfo!=null&&modifyInfo.status == 1}" value="1">已启用</option>
					</select>
				</div>
			</div>
		</form>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-default" data-dismiss="modal">关闭
		</button>
		<button type="button" class="btn btn-primary" id="ModifyModalSubmit">
			提交
		</button>
	</div>
</div>
</body>
<script type="text/javascript">
	$(document).ready(function() {
		
		$("#ModifyModal").on("hidden.bs.modal", function() {  
		    $(this).removeData("bs.modal");  
		}); 
		
	    $('#modifyDataFrom').bootstrapValidator({
	        message: '输入无效,请重新输入',
	        group:'.form-group',
	        trigger: 'keyup focus',
	        feedbackIcons: {
	            valid: 'glyphicon glyphicon-ok',
	            invalid: 'glyphicon glyphicon-remove',
	            validating: 'glyphicon glyphicon-refresh'
	        },
	        fields: {
	        	nickName: {
	                message: '机器人昵称不合法',
	                validators: {
	                    notEmpty: {
	                        message: '机器人昵称不能为空'
	                    }
	                }
	            }, 
	            mobilePhone: {
	                message: '联系电话无效',
	                validators: {
	                	notEmpty: {
	                        message: '联系电话不能为空'
	                    },
	                    stringLength: {
	                        min: 11,
	                        max: 11,
	                        message: '联系电话长度必须是11位'
	                    },
	                    regexp: {
	                        regexp: /^((1[3,5,8][0-9])|(14[5,7])|(17[0,6,7,8])|(19[7]))\d{8}$/,
	                        message: '联系电话格式不正确'
	                    }
	                }
	            }
	        }
	    });
	});
</script>
</html>
